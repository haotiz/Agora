var Agora=function(){var f={};Object.defineProperties(f,{version:{get:function(){return"<%= pkg.version %>"}},name:{get:function(){return"<%= pkg.title %>"}}});return f}(),L={};Agora.Ext=function(f){var a={xmlhttp:null};a.vendorKey=f.vendor_key;a.serv_url="http://webext.agorabeckon.com/agora/agora_api.jsp";a.createCallback=null;a.endCallback=null;a.queryCallback=null;var g=function(){if(4==a.xmlhttp.readyState&&200==a.xmlhttp.status){var d=eval("("+a.xmlhttp.responseText+")").returnCode;a.createCallback(d)}};a.createMeeting=function(d,e){var c=a.serv_url+"?action=create&meetingID="+d+"&key="+a.vendorKey,b=new XMLHttpRequest;"withCredentials"in b?b.open("GET",c,!0):"undefined"!=
typeof XDomainRequest?(b=new XDomainRequest,b.open("GET",c)):b=null;a.xmlhttp=b;a.createCallback=e;b.onreadystatechange=g;b.send(null)};var h=function(){if(4==a.xmlhttp.readyState&&200==a.xmlhttp.status){var d=eval("("+a.xmlhttp.responseText+")").returnCode;a.endCallback(d)}};a.endMeeting=function(d,e){var c=a.serv_url+"?action=end&meetingID="+d+"&key="+a.vendorKey,b=new XMLHttpRequest;"withCredentials"in b?b.open("GET",c,!0):"undefined"!=typeof XDomainRequest?(b=new XDomainRequest,b.open("GET",c)):
b=null;a.xmlhttp=b;a.endCallback=e;b.onreadystatechange=h;b.send(null)};a.joinMeetingURL=function(d,e,c,b){return a.serv_url+"?action=join&identity="+c+"&username="+e+"&layout="+("AGORA_LECTURE"==b?"LECTURE":"AGORA_LECTURE_ASSISTANT"==b?"LECTURE_A":"default")+"&meetingID="+d+"&key="+a.vendorKey};var i=function(){if(4==a.xmlhttp.readyState&&200==a.xmlhttp.status){var d=eval("("+a.xmlhttp.responseText+")").returnCode.split("#%#");d.pop();a.queryCallback(d)}};a.queryMeeting=function(d){var e=a.serv_url+
"?action=query&key="+a.vendorKey,c=new XMLHttpRequest;"withCredentials"in c?c.open("GET",e,!0):"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open("GET",e)):c=null;a.xmlhttp=c;a.queryCallback=d;c.onreadystatechange=i;c.send(null)};return a};
